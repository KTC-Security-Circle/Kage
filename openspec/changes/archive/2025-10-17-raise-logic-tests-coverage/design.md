# Design Notes: logic テスト改善

<!-- OPENSPEC:START -->

本変更はテストコードの追加・整理が中心であり、プロダクションコードへの大規模変更は伴わない。以下のみ設計上の注意点として扱う。

- テストの責務分離: サービス/リポジトリ/インフラのスコープを明確化し、ユニットの境界外はモックまたはフィクスチャで代替。
- フィクスチャ再利用: tests/logic/conftest.py, helpers.py を活用し、重複を避ける。
- 可観測性: ログメッセージの断定に依存せず、戻り値・副作用(保存/削除)を主に検証する。
- 実行時間: パラメタライズの粒度を調整して実行時間を抑制。

<!-- OPENSPEC:END -->
