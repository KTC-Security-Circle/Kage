# 07. 用語集画面デザイン修正

## 現状の問題点

src/views_new/terms/view.py のデザインが、テンプレートの TermsScreen.tsx と以下の点で乖離している：

### 1. ヘッダーレイアウト

**テンプレート**：
- 固定ヘッダーエリア（タイトル「社内用語管理」、説明「社内固有の用語・略語・定義を管理 (X件)」）
- 右上に検索バー（w-64、「用語、キー、同義語で検索...」）と新規作成ボタン
- 明確な背景色（bg-white）とボーダー（border-b）

**現状**：
- 基本的なレイアウト
- 詳細な説明文が不足
- 検索プレースホルダーの具体性不足

### 2. 3ペインレイアウト + タブシステム

**テンプレート**：
- 左側：用語一覧（1/3の幅、lg:grid-cols-3）
- 右側：詳細パネル（lg:col-span-2、2/3の幅）
- 左側に3つのタブ（承認済み、草案、非推奨）
- タブごとのカウント表示

**現状**：
- レイアウト構造が未実装または異なる
- タブシステムが未実装

### 3. ステータス別タブ

**テンプレート**：
- 承認済み（approved）タブ - CheckCircle2アイコン
- 草案（draft）タブ - FileQuestionアイコン  
- 非推奨（deprecated）タブ - XCircleアイコン
- grid-cols-3タブレイアウト
- 各タブに件数表示

**現状**：
- ステータス別表示が未実装
- タブUIが未実装

### 4. 用語カードデザイン

**テンプレート**：
- 統一されたカードデザイン
- ステータスアイコンとタイトルの組み合わせ
- キー（term.key）の表示
- 説明文の2行クランプ（line-clamp-2）
- 同義語（synonyms）のバッジ表示（最大3個 + 残数表示）
- 選択状態の明確な視覚化

**現状**：
- 基本的な用語表示
- ステータス表示が不足
- 同義語表示機能が未実装

### 5. 詳細パネル

**テンプレート**：
- 用語選択時の詳細表示
- ステータスバッジ（色分け：承認済み=blue-600、草案・非推奨=outline）
- ソースURL表示（外部リンクアイコン付き）
- タグ表示（カラー付きバッジ）
- 同義語の完全リスト表示
- 編集ボタン（EditTermDialog連携）

**現状**：
- 詳細パネルが未実装または基本的

### 6. 検索機能

**テンプレート**：
- タイトル、キー、説明、同義語での横断検索
- リアルタイム検索結果反映
- 検索アイコン付き入力フィールド

**現状**：
- 検索機能の実装が不完全

### 7. ステータス管理

**テンプレート**：
- approved（承認済み）: CheckCircle2アイコン + blue-600バッジ
- draft（草案）: FileQuestionアイコン + outlineバッジ
- deprecated（非推奨）: XCircleアイコン + outlineバッジ

**現状**：
- ステータス表示機能が未実装

## 修正箇所

### 1. ヘッダー部分の再構築

```python
# 修正内容：
- 固定ヘッダーエリアの実装
- 「社内固有の用語・略語・定義を管理」説明の追加
- 右端に検索バー（「用語、キー、同義語で検索...」）と新規ボタン配置
- 用語総数カウントの表示
```

### 2. 3ペインレイアウト + タブの実装

```python
# 修正内容：
- 左側：grid-cols-1の用語一覧
- 右側：lg:col-span-2の詳細パネル
- 適切なグリッドレイアウト（lg:grid-cols-3）
- タブシステムの実装（ft.Tabs使用）
```

### 3. ステータス別タブの実装

```python
# 修正内容：
- 承認済み（approved）タブ（CheckCircle2相当アイコン）
- 草案（draft）タブ（FileQuestion相当アイコン）
- 非推奨（deprecated）タブ（XCircle相当アイコン）
- 各タブの件数表示機能
- タブ切り替え時のフィルタリング
```

### 4. 用語カードの強化

```python
# 修正内容：
- 統一されたカードレイアウト
- ステータスアイコン + タイトルの配置
- キー（term.key）の説明文表示
- 説明文の2行クランプ実装
- 同義語バッジ表示（最大3個表示 + 残数表示）
- ホバー効果と選択状態の視覚化
```

### 5. ステータス表示機能の実装

```python
# 修正内容：
- getStatusIcon()関数の実装
- getStatusBadge()関数の実装
- ステータス別の色分け対応
- アイコンとバッジの動的レンダリング
```

### 6. 詳細パネルの実装

```python
# 修正内容：
- 用語詳細表示レイアウト
- ステータスバッジの色分け表示
- ソースURL表示（外部リンクアイコン付き）
- タグ表示（カラー付きバッジ）
- 同義語の完全リスト表示
- 編集ボタンの適切な配置
```

### 7. 検索・フィルター機能の強化

```python
# 修正内容：
- filterTerms()関数の実装
- タイトル・キー・説明・同義語での横断検索
- リアルタイム検索結果反映
- 検索アイコン付き入力フィールド
```

### 8. 同義語表示機能の実装

```python
# 修正内容：
- 同義語配列の適切な表示
- 最大3個表示 + 残数バッジ機能
- 詳細パネルでの完全リスト表示
```

### 9. 空状態の実装

```python
# 修正内容：
- 各タブの空状態表示
- 適切な空状態メッセージ
- 新規作成への誘導
```

## 優先度
**中** - 専門的な機能だが、知識管理として重要

## 影響範囲
- 用語集画面全体
- 用語関連コンポーネント
- タグとの連携機能

## 作業見積もり
約3-4時間（タブシステムと詳細パネル実装含む）

## 依存関係
- 共通レイアウト修正完了後
- ステータス管理システムの実装
- EditTermDialog コンポーネントの実装
- タグとの連携データ構造の確定