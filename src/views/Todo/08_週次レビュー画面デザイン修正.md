# 08. 週次レビュー画面デザイン修正

## 現状の問題点

src/views_new/weekly_review/view.py のデザインが、テンプレートの WeeklyReviewScreen.tsx と以下の点で乖離している：

### 1. ページヘッダー

**テンプレート**：
- タイトル「週次レビュー」
- 説明「GTDの週次レビュー - システム全体を見直して整理する時間」
- 簡潔で明確なGTD説明

**現状**：
- 基本的なレイアウト
- GTDの説明が不足

### 2. 統計概要セクション

**テンプレート**：
- 4つの統計カード（今週完了、インボックス、待機中、進行中PJ）
- lg:col-span-3で全幅を使用
- md:grid-cols-4でレスポンシブ配置
- 各カードにアイコン（TrendingUp、Inbox、Clock、CalendarCheck）

**現状**：
- 統計機能が未実装または不完全
- レイアウトがテンプレートと異なる

### 3. レビューチェックリスト

**テンプレート**：
- 7項目のGTD週次レビューチェックリスト
- チェックボックス付きの実用的な項目
- 完了状態の管理機能

**現状**：
- チェックリスト機能が未実装

### 4. 3列レイアウト

**テンプレート**：
- lg:grid-cols-3でのメインレイアウト
- 左列：レビューチェックリスト
- 中央列：インボックス・待機中の詳細
- 右列：プロジェクト状況

**現状**：
- 3列レイアウトが未実装

### 5. タスク状況詳細

**テンプレート**：
- インボックスタスクの詳細表示
- 待機中タスクの詳細表示
- いつか/多分タスクの表示
- 今週完了タスクの集計

**現状**：
- タスク状況表示が未実装

### 6. プロジェクト状況

**テンプレート**：
- 進行中プロジェクトの一覧
- プロジェクト進捗の表示
- プロジェクト詳細への遷移機能

**現状**：
- プロジェクト状況表示が未実装

## 修正箇所

### 1. ページヘッダーの改善

```python
# 修正内容：
- 「GTDの週次レビュー - システム全体を見直して整理する時間」説明の追加
- 適切なスペーシングとタイポグラフィ
```

### 2. 統計概要セクションの実装

```python
# 修正内容：
- 4つの統計カード（今週完了、インボックス、待機中、進行中PJ）
- lg:col-span-3での全幅レイアウト
- md:grid-cols-4でのレスポンシブ対応
- 各カードにアイコン（TrendingUp、Inbox、Clock、CalendarCheck相当）
- リアルタイム統計計算
```

### 3. 週次統計計算機能の実装

```python
# 修正内容：
- 今週完了タスク数の計算（1週間前からの完了タスク）
- インボックスタスク数の集計
- 待機中タスク数の集計
- 進行中プロジェクト数の集計
```

### 4. レビューチェックリストの実装

```python
# 修正内容：
- 7項目のGTDチェックリスト実装
- チェックボックス付きUIコンポーネント
- 完了状態の保存・復元機能
- チェック状態の動的更新
```

### 5. 3列レイアウトの実装

```python
# 修正内容：
- lg:grid-cols-3でのメインレイアウト
- 左列：レビューチェックリストカード
- 中央列：タスク状況詳細カード
- 右列：プロジェクト状況カード
```

### 6. タスク状況詳細の実装

```python
# 修正内容：
- インボックスタスクリスト表示
- 待機中タスクリスト表示
- いつか/多分タスクリスト表示
- 各タスクのクリック時遷移機能
- 空状態の適切な表示
```

### 7. プロジェクト状況の実装

```python
# 修正内容：
- 進行中プロジェクトの一覧表示
- プロジェクト進捗の表示（可能であれば）
- プロジェクト詳細への遷移機能
- プロジェクトがない場合の空状態表示
```

### 8. データフィルタリング機能の実装

```python
# 修正内容：
- ステータス別タスクフィルタリング
- 日付範囲でのタスクフィルタリング
- プロジェクトステータス別フィルタリング
```

### 9. ナビゲーション機能の実装

```python
# 修正内容：
- タスク詳細への遷移
- プロジェクト詳細への遷移
- 該当画面での特定アイテム選択
```

## GTDチェックリスト項目

```python
review_checklist = [
    "すべてのインボックスを空にする",
    "各タスクを整理し、適切なリストに移動する", 
    "先週と来週のカレンダーを確認",
    "待機中リストを確認",
    "進行中のプロジェクトを確認",
    "いつか/多分リストを見直す",
    "次のアクションを決定"
]
```

## 優先度
**中低** - 高度な機能だが、基本的なタスク管理機能ではない

## 影響範囲
- 週次レビュー画面全体
- タスク・プロジェクトとの連携
- 統計機能

## 作業見積もり
約3-4時間（統計計算とチェックリスト機能含む）

## 依存関係
- 共通レイアウト修正完了後
- タスク・プロジェクト画面の実装完了
- チェックボックスコンポーネントの実装
- 統計計算ロジックの実装