# 09. 設定画面デザイン修正

## 現状の問題点

src/views_new/settings/view.py のデザインが、テンプレートの SettingsScreen.tsx と以下の点で乖離している：

### 1. ページレイアウト

**テンプレート**：
- シンプルなページヘッダー（タイトル「設定」、説明「アプリケーションの設定と環境設定」）
- max-w-3xlでのコンテンツ幅制限
- 縦並びの設定セクション配置

**現状**：
- セクション分けされた複雑なレイアウト
- カード形式の設定UI
- より詳細な設定項目分類

### 2. 設定セクション構成

**テンプレート**：
- ローカルAI設定（最重要）
- 通知設定  
- 外観設定
- データ管理設定
- アプリ情報

**現状**：
- 外観設定
- ウィンドウ設定
- データベース設定

### 3. ローカルAI設定（重要な欠如）

**テンプレート**：
- AI自動処理のOn/Off切り替え
- AIモデル選択（3種類のローカルLLM）
- 処理優先度設定（パフォーマンス/バランス/バッテリー）

**現状**：
- ローカルAI設定が完全に欠如
- メモ→タスク変換機能の設定なし

### 4. 通知設定（欠如）

**テンプレート**：
- デスクトップ通知のOn/Off
- 週次レビュー通知
- 期限切れタスク通知

**現状**：
- 通知設定が未実装

### 5. 外観設定の簡素化

**テンプレート**：
- テーマ選択（ライト/ダーク/システム）
- シンプルなSelect形式

**現状**：
- より複雑なテーマ設定UI
- 詳細なカスタマイズオプション

### 6. データ管理設定

**テンプレート**：
- データエクスポート機能
- データインポート機能
- キャッシュクリア機能

**現状**：
- データベース設定に重点
- エクスポート/インポート機能が不明確

## 修正箇所

### 1. ページレイアウトの簡素化

```python
# 修正内容：
- max-w-3xl相当のコンテンツ幅制限
- シンプルなページヘッダー
- 縦並びセクション配置
- 複雑なカード分割の削減
```

### 2. ローカルAI設定セクションの追加

```python
# 新規実装：
- Cpuアイコンでのセクションヘッダー
- AI自動処理Switch（新しいメモの自動処理）
- AIモデル選択Select（ローカルLLM v1.0/v2.0/軽量）
- 処理優先度Select（パフォーマンス/バランス/バッテリー）
- 各設定項目の説明文
```

### 3. 通知設定セクションの追加

```python
# 新規実装：
- Bellアイコンでのセクションヘッダー
- デスクトップ通知Switch
- 週次レビュー通知Switch（毎週金曜日）
- 期限切れタスク通知Switch
- 通知タイミング設定
```

### 4. 外観設定の簡素化

```python
# 修正内容：
- Paletteアイコンでのセクションヘッダー
- シンプルなテーマ選択Select
- ライト/ダーク/システム自動の3選択肢
- 複雑なカスタマイズオプションの削減
```

### 5. データ管理設定の実装

```python
# 修正内容：
- Databaseアイコンでのセクションヘッダー
- データエクスポートButton
- データインポートButton
- キャッシュクリアButton
- 各アクションの説明文
```

### 6. アプリ情報セクションの追加

```python
# 新規実装：
- Infoアイコンでのセクションヘッダー
- アプリバージョン表示
- ライセンス情報
- 使用ライブラリ情報
```

### 7. 設定項目のレイアウト統一

```python
# 修正内容：
- flex items-center justify-between レイアウト
- 設定項目のラベルと説明文の統一
- Switch/Selectコンポーネントの右寄せ配置
- Separator による設定項目間の区切り
```

### 8. 設定値の保存・復元機能

```python
# 修正内容：
- ローカルAI設定の永続化
- 通知設定の永続化
- テーマ設定の即座反映
- 設定変更時のリアルタイム更新
```

## 設定項目の優先順位

### 高優先度
1. ローカルAI設定（アプリの核心機能）
2. 通知設定（ユーザビリティ）
3. 外観設定（ユーザー体験）

### 中優先度
4. データ管理設定（メンテナンス）
5. アプリ情報（参考情報）

### 低優先度
- 詳細なウィンドウ設定
- 高度なデータベース設定

## 優先度
**中高** - ローカルAI機能の設定として重要

## 影響範囲
- 設定画面全体
- AI機能との連携
- 通知システムとの連携

## 作業見積もり
約3-4時間（ローカルAI設定と通知設定の実装含む）

## 依存関係
- 共通レイアウト修正完了後
- ローカルAI機能の仕様確定
- 通知システムの実装
- Switch/Selectコンポーネントの作成